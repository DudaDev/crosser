!function e(t,n,i){function s(o,a){if(!n[o]){if(!t[o]){var c="function"==typeof require&&require;if(!a&&c)return c(o,!0);if(r)return r(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var h=n[o]={exports:{}};t[o][0].call(h.exports,function(e){var n=t[o][1][e];return s(n?n:e)},h,h.exports,e,t,n,i)}return n[o].exports}for(var r="function"==typeof require&&require,o=0;o<i.length;o++)s(i[o]);return s}({1:[function(e,t){(function(e){!function(e,n,i){n[e]=n[e]||i(),"undefined"!=typeof t&&t.exports?t.exports=n[e]:"function"==typeof define&&define.amd&&define(function(){return n[e]})}("Promise","undefined"!=typeof e?e:this,function(){"use strict";function e(e,t){l.add(e,t),u||(u=p(l.drain))}function t(e){var t,n=typeof e;return null==e||"object"!=n&&"function"!=n||(t=e.then),"function"==typeof t?t:!1}function n(){for(var e=0;e<this.chain.length;e++)i(this,1===this.state?this.chain[e].success:this.chain[e].failure,this.chain[e]);this.chain.length=0}function i(e,n,i){var s,r;try{n===!1?i.reject(e.msg):(s=n===!0?e.msg:n.call(void 0,e.msg),s===i.promise?i.reject(TypeError("Promise-chain cycle")):(r=t(s))?r.call(s,i.resolve,i.reject):i.resolve(s))}catch(o){i.reject(o)}}function s(i){var o,c=this;if(!c.triggered){c.triggered=!0,c.def&&(c=c.def);try{(o=t(i))?e(function(){var e=new a(c);try{o.call(i,function(){s.apply(e,arguments)},function(){r.apply(e,arguments)})}catch(t){r.call(e,t)}}):(c.msg=i,c.state=1,c.chain.length>0&&e(n,c))}catch(f){r.call(new a(c),f)}}}function r(t){var i=this;i.triggered||(i.triggered=!0,i.def&&(i=i.def),i.msg=t,i.state=2,i.chain.length>0&&e(n,i))}function o(e,t,n,i){for(var s=0;s<t.length;s++)!function(s){e.resolve(t[s]).then(function(e){n(s,e)},i)}(s)}function a(e){this.def=e,this.triggered=!1}function c(e){this.promise=e,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function f(t){if("function"!=typeof t)throw TypeError("Not a function");if(0!==this.__NPO__)throw TypeError("Not a promise");this.__NPO__=1;var i=new c(this);this.then=function(t,s){var r={success:"function"==typeof t?t:!0,failure:"function"==typeof s?s:!1};return r.promise=new this.constructor(function(e,t){if("function"!=typeof e||"function"!=typeof t)throw TypeError("Not a function");r.resolve=e,r.reject=t}),i.chain.push(r),0!==i.state&&e(n,i),r.promise},this["catch"]=function(e){return this.then(void 0,e)};try{t.call(void 0,function(e){s.call(i,e)},function(e){r.call(i,e)})}catch(o){r.call(i,o)}}var h,u,l,d=Object.prototype.toString,p="undefined"!=typeof setImmediate?function(e){return setImmediate(e)}:setTimeout;try{Object.defineProperty({},"x",{}),h=function(e,t,n,i){return Object.defineProperty(e,t,{value:n,writable:!0,configurable:i!==!1})}}catch(y){h=function(e,t,n){return e[t]=n,e}}l=function(){function e(e,t){this.fn=e,this.self=t,this.next=void 0}var t,n,i;return{add:function(s,r){i=new e(s,r),n?n.next=i:t=i,n=i,i=void 0},drain:function(){var e=t;for(t=n=u=void 0;e;)e.fn.call(e.self),e=e.next}}}();var _=h({},"constructor",f,!1);return f.prototype=_,h(_,"__NPO__",0,!1),h(f,"resolve",function(e){var t=this;return e&&"object"==typeof e&&1===e.__NPO__?e:new t(function(t,n){if("function"!=typeof t||"function"!=typeof n)throw TypeError("Not a function");t(e)})}),h(f,"reject",function(e){return new this(function(t,n){if("function"!=typeof t||"function"!=typeof n)throw TypeError("Not a function");n(e)})}),h(f,"all",function(e){var t=this;return"[object Array]"!=d.call(e)?t.reject(TypeError("Not an array")):0===e.length?t.resolve([]):new t(function(n,i){if("function"!=typeof n||"function"!=typeof i)throw TypeError("Not a function");var s=e.length,r=Array(s),a=0;o(t,e,function(e,t){r[e]=t,++a===s&&n(r)},i)})}),h(f,"race",function(e){var t=this;return"[object Array]"!=d.call(e)?t.reject(TypeError("Not an array")):new t(function(n,i){if("function"!=typeof n||"function"!=typeof i)throw TypeError("Not a function");o(t,e,function(e,t){n(t)},i)})}),f})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(e,t){function n(e,t){if(this._sessionHandlers={},this._listeners={},this._otherFrameWindow=e,this._otherOrigin=t||"*",this._id=i(),this._events={},!this._otherFrameWindow||!this._otherFrameWindow.postMessage)throw new Error("Missing frame to communicate with");window.addEventListener("message",this._receiveMessage.bind(this),!1)}var i=(e("native-promise-only"),function(){return(new Date).getTime().toString()});n.prototype._receiveMessage=function(e){var t=e.data,n=this._doesOriginMatch(e.origin);n&&t&&("event"===t.type?t.eventName&&this._events[t.eventName]&&this._fireEvent(e):t.sessionName&&this._sessionHandlers[t.sessionName]&&t.creator===this._id?this._endSession(e):t.sessionName&&t.creator!==this._id&&this._throwBackSession(e))},n.prototype._doesOriginMatch=function(e){var t=e===this._otherOrigin||"*"===this._otherOrigin&&window.location.origin===e;return t},n.prototype._endSession=function(e){var t=e.data,n=this._sessionHandlers[t.sessionName].resolve,i=this._sessionHandlers[t.sessionName].reject;this._deleteSession(t.sessionName),t.error?i(t.error):n(t.payload)},n.prototype._throwBackSession=function(e){var t=e.data,n=t.sessionName;Object.keys(this._listeners[n]||{}).forEach(function(e){var i=this._listeners[n][e](t.payload);i&&i.then?i.then(function(e){this._postMessage({sessionName:n,payload:e,creator:t.creator})}.bind(this)):this._postMessage({sessionName:n,payload:i,creator:t.creator})},this)},n.prototype._postMessage=function(e){this._otherFrameWindow.postMessage(e,this._otherOrigin)},n.prototype._deleteSession=function(e){this._sessionHandlers[e].resolve=null,delete this._sessionHandlers[e].resolve,this._sessionHandlers[e].reject=null,delete this._sessionHandlers[e].reject,this._sessionHandlers[e]=null,delete this._sessionHandlers[e]},n.prototype.destroy=function(){Object.keys(this._listeners||{}).forEach(this.unsubscribe,this),Object.keys(this._sessionHandlers||{}).forEach(this._deleteSession,this),this._otherFrameWindow=null,this._otherOrigin=null,this._id=null},n.prototype.trigger=function(e,t){var n;if(this._sessionHandlers[e])throw new Error("A session with the name "+e+" is still alive");return n=new Promise(function(t,n){this._sessionHandlers[e]={resolve:t,reject:n}}.bind(this)),this._postMessage({sessionName:e,payload:t,creator:this._id}),n},n.prototype.abort=function(e){this._deleteSession(e)},n.prototype.subscribe=function(e,t){var n=i();if(this._listeners[e]=this._listeners[e]||{},Object.keys(this._listeners[e]||{}).length>0)throw new Error("A session ( "+e+" ) can have only one subscriber");return this._listeners[e][n]=t,n},n.prototype.unsubscribe=function(e,t){t?(this._listeners[e][t]=null,delete this._listeners[e][t]):Object.keys(this._listeners[e]||{}).forEach(this.unsubscribe.bind(this,e))},n.prototype._fireEvent=function(e){var t=e.data;this._events[t.eventName].forEach(function(e){e(t.payload)})},n.prototype.subscribeEvent=function(e,t){this._events[e]=this._events[e]||[],this._events[e].push(t)},n.prototype.unsubscribeEvent=function(e){this._events[e]=null,delete this._events[e]},n.prototype.triggerEvent=function(e,t){this._postMessage({eventName:e,type:"event",payload:t,creator:this._id})},window.Crosser=n,t.exports=n},{"native-promise-only":1}]},{},[2]);